<div class="row" ng-controller="LoginCtrl">
    <div class="card-panel col s12 m8 offset-m2 l4 offset-l4 z-depth-4">
        <form name="loginform" action="/session/create" class="login-form" method="post" novalidate>
            <div class="row">
                <img class="col s6 offset-s3" src="/images/iconobigsinfondo.png" alt="iconfondo">
                <div class ="col s6 offset-s3">
                    <h4 class="center light-green-text"> Visual Mail</h4>
                </div>
            </div>

            <div class="input-field col s7 offset-s1">
                <i class="light-green-text small material-icons prefix">person_pin</i>
                <input type="email" name="email" id="email" ng-model="email" 
                    ng-pattern="/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i">
                <label for="email">Email</label>
            </div>
            <div ng-messages="loginform.email.$error" role="alert" class="col s4 centerme red-text" >
                <div ng-message="email">Formato no válido</div>
                <div ng-message="pattern">Formato no válido</div>
            </div>

            <!--
            <div class="input-field col s4 centerme">
            <div class="light-green-text"> Formato inválido</div>
            </div>
            -->

            <div class="input-field col s7 offset-s1">
                <i class="light-green-text small material-icons prefix">lock</i>
                <input type="password" name="password" id="password">
                <label for="password">Contraseña</label>
            </div>

            <div class="row container"> 
                <button type="submit" class="btn-large col s12 m12 l8 offset-l2 light-green waves-effect waves-light">Iniciar Sesión</button>
                <input type="hidden" name="_csrf" value="<%= _csrf%>" />
            </div>
            <div class ="row">
                <div class="col s7 offset-s1">
                    <% if(flash && flash.err) { %>
                    <!-- <h6 class="red-text"> Credenciales inválidas </h6>
                    <% Object.keys(flash.err).forEach(function(error) { %>
                    <ul>
                        <li><%= JSON.stringify(flash.err[error])%></li>
                    </ul>
                    <%});%>
                    -->
                    <script>Materialize.toast($('<span class=" color_acentuado-text">¡Credenciales inválidas!</span>'), 5000);</script>
                    <% } %>
                </div>
            </div>

            <div class="row ">
                <div class="col s6"><a href="/user/signup" class="light-green-text">Regístrate</a></div>
                <div class="col s6"><a href="/session/forgotpassword" class="light-green-text">¿Olvidó la contraseña?</a></div>
            </div>

        </form>
    </div>
</div>
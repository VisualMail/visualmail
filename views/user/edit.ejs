<div class="boxer" id="vistaPrincipal" ng-controller="EditController as vm">
    <div class="container">
        <div class="row card-panel" id="contenedor_form">
            
            <!-- Inicio editar perfil -->
            <form name="vm.formEdit" novalidate="novalidate">
                <div class="s12">
                    <div class="col s11 offset-s1">
                        <h3 class="green-text">Actualizar campos</h3>
                    </div>
                    <div class="col s11 offset-s1">
                        <h6 class="green-text">Los campos nulos no se actualizarán.</h6>
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="input-field col s7 offset-s1">
                        <input id="firstname" name="firstname" placeholder="{{ vm.miUsuario.firstname }}" type="text" 
                            ng-maxlength="15" 
                            ng-minlength="3" 
                            ng-model="vm.firstname" 
                            ng-pattern="/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u" />
                        <label for="firstname">Nombre</label>
                    </div>
                    <div class="col s4 centerme red-text" role="alert" ng-messages="vm.formEdit.firstname.$error">
                        <div ng-message="minlength">Mínimo 3 caracteres</div>
                        <div ng-message="maxlength">Nombre muy largo</div>
                        <div ng-message="pattern">Formato no válido</div>
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="input-field col s7 offset-s1">
                        <input id="lastname" name="lastname" placeholder="{{ vm.miUsuario.lastname }}" type="text" 
                            ng-maxlength="30" 
                            ng-minlength="3" 
                            ng-model="vm.lastname" 
                            ng-pattern="/^[a-zA-ZàáâäãåąčćęèéêëėįìíîïłńòóôöõøùúûüųūÿýżźñçčšžÀÁÂÄÃÅĄĆČĖĘÈÉÊËÌÍÎÏĮŁŃÒÓÔÖÕØÙÚÛÜŲŪŸÝŻŹÑßÇŒÆČŠŽ∂ð ,.'-]+$/u" />
                        <label for="lastname">Apellidos</label>
                    </div>
                    <div class="col s4 centerme red-text" role="alert" ng-messages="vm.formEdit.lastname.$error">
                        <div ng-message="minlength">Mínimo 3 caracteres</div> 
                        <div ng-message="maxlength">Apellido muy largo</div>
                        <div ng-message="pattern">Formato no válido</div>
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="input-field col s7 offset-s1">
                        <input id="imgurl" name="imgurl" placeholder="{{ vm.miUsuario.imgurl }}" type="text" 
                            ng-model="vm.imgurl" />
                        <label for="imgurl">URL imagen</label>
                        <!-- pattern="https?://.+"-->
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="input-field col s7 offset-s1">
                        <input capitalize class="tooltipped" id="initials" name="initials" placeholder="{{ vm.miUsuario.initials }}" type="text" 
                            data-delay="50" 
                            data-position="right" 
                            data-tooltip="Ingrese 3 caracteres con las iniciales de su nombre" 
                            ng-maxlength="3" 
                            ng-minlength="3" 
                            ng-model="vm.initials" 
                            ng-pattern="/^[a-zA-Z]+$/" 
                            ng-required="true" />
                        <label for="initials">Iniciales</label>
                    </div>
                    <div class="col s4 centerme red-text" role="alert" ng-messages="vm.formEdit.initials.$error">
                        <div ng-message="minlength">3 caracteres</div>
                        <div ng-message="maxlength">No pueden ser más de 3 carácteres</div>
                        <div ng-message="pattern">Formato no válido</div>
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="col s7 offset-s1 input-field tooltipped" 
                        data-delay="50" 
                        data-position="top" 
                        data-tooltip="Selecciona un color de interacción">
                        <input class="jscolor" id="color" name="color" placeholder="{{ vm.miUsuario.color }}" type="text" 
                            ng-style="{ 'background-color': vm.color ? '#' + vm.userColor : (vm.miUsuario.color ? '#' + vm.miUsuario.color : 'none') }"
                            ng-model="vm.color" 
                            ng-required="true" />
                            <label for="color">Color de interacción</label>
                    </div>
                </div>
                
                <div class="col s12">
                    <div class="col s3 offset-s1">
                        <button class="waves-effect waves-light btn-large light-green" type="button" 
                            ng-click="vm.onBtnEditGuardarClick()" 
                            ng-disabled="!vm.formEdit.$valid">Actualizar</a>
                    </div>
                    <div class="col s1 offset-s1">
                        <button class="waves-effect waves-light btn-large" type="button" 
                            ng-click="vm.onBtnEditCancelClick()">Cancelar</button>
                    </div>
                </div>
            </form>
            <!-- Fin editar perfil -->
        
        </div>
    </div>
</div>